<html>

<head>
    <title>Game Boy Emulator</title>
    <link rel="stylesheet" type="text/css" href="index.css">
</head>

<body id="drop_zone">
    
    <div id="main-container">
        <h2 style="margin: 0">Game Boy Emulator</h2>
        <div id="panels">
            <p class="panel debug" id="debug">

            </p>
            <!-- <b>Disassembly</b>  -->
            <span class="panel code debug" id="disassembly-output">

            </span>

            <div class="panel">
                <span class="code" id="breakpoints"></span>

                <canvas class="debug" id="tileset" width="256" height="192"></canvas>
                <div class="hidden"><canvas class="debug" id="memory-map" width="256" height="256"></canvas></div>

                <div id="palette" class="debug" style="display: none">
                    <label>Palette</label>
                    <div class="palette-container">
                        <span class="palette-square" id="palette0-bg"></span>
                        <span class="palette-square" id="palette1-bg"></span>
                        <span class="palette-square" id="palette2-bg"></span>
                        <span class="palette-square" id="palette3-bg"></span>
                    </div>
                    <div class="palette-container">
                        <span class="palette-square" id="palette0-obj0"></span>
                        <span class="palette-square" id="palette1-obj0"></span>
                        <span class="palette-square" id="palette2-obj0"></span>
                        <span class="palette-square" id="palette3-obj0"></span>
                    </div>
                    <div class="palette-container">
                        <span class="palette-square" id="palette0-obj1"></span>
                        <span class="palette-square" id="palette1-obj1"></span>
                        <span class="palette-square" id="palette2-obj1"></span>
                        <span class="palette-square" id="palette3-obj1"></span>
                    </div>
                </div>

                <canvas id="gameboy" width="160" height="144"></canvas>

                <div>
                    <br>
                    <label for="big-screen">Big Screen</label>
                    <input id="big-screen" autocomplete="off" type="checkbox" />
                </div>
            </div>

        </div>
    </div>

    <div class="interactive">
        <div class="interactive-panel">
            <button onclick="executeAtPc()">Execute at PC</button>
            <button onclick="gb.speed()">Run</button>
            <button onclick="gb.speedStop();">Stop</button>
            <button onclick="gb.frame()">Render Frame</button>
            <button id="reset-button" onclick="gb.reset()">Reset</button>

            <div style="display: none">
                <label for="enableLogging">Enable Logging</label>
                <input id="enableLogging" autocomplete="off" type="checkbox">
            </div>

            <div>
                <input id="drawTileset" autocomplete="off" type="checkbox">
                <label for="drawTileset">Draw Tileset</label>

                <input id="displaySerialInput" autocomplete="off" type="checkbox">
                <label for="displaySerialInput">Display Serial</label>

                <input id="enableDebugger" autocomplete="off" type="checkbox" checked>
                <label for="enableDebugger">Debugger</label>
            </div>

            <div>
                <input id="altControls" autocomplete="off" type="checkbox">
                <label for="altControls">Use WASD+JK controls</label>

                <input id="nightcoreMode" autocomplete="off" type="checkbox">
                <label for="nightcoreMode">Nightcore Mode</label>
            </div>

            <div>
                <input id="ch1" autocomplete="off" type="checkbox" checked>
                <label for="ch1">Pulse 1</label>
                <input id="ch2" autocomplete="off" type="checkbox" checked>
                <label for="ch2">Pulse 2</label>
                <input id="ch3" autocomplete="off" type="checkbox" checked>
                <label for="ch3">Wave</label>
                <input id="ch4" autocomplete="off" type="checkbox" checked>
                <label for="ch4">Noise</label>
            </div>

            <div>
                <label for="volume-slider">Volume</label>
                <input type="range" min="1" max="100" value="100" class="slider" id="volume-slider">
            </div>

            <div>
                <label for="gameromInput">Open Game ROM</label>
                <input id="gameromInput" autocomplete="off" type="file">
            </div>

            <div>
                <label for="saveInput">Load Save</label>
                <input id="saveInput" autocomplete="off" type="file">
            </div>

            <div>
                <button onclick="downloadSave()">Download Save</button>
            </div>

            <div>
                <label for="bootromInput">Open Boot ROM</label>
                <input id="bootromInput" autocomplete="off" type="file">
            </div>

            <div>
                <label for="haltInput">Halt at 0x</label>
                <input id="haltInput" autocomplete="off" pattern="[a-fA-F\d]+" />
            </div>


            <div style="display: none">
                <label for="halt2Input">Halt when executed</label>
                <input id="halt2Input" type="number" />
            </div>


            <div>
                <button onclick="downloadLog()">Download Log</button>
            </div>
        </div>
        <div class="interactive-panel shortcuts">
            <b>SHIFT+B: Big Screen</b>
            <b>SHIFT+F: Frame Blending</b>
            <b>CTRL+R: Reset</b>
            <b>S: Step</b>

            <b>SHIFT+D: Debugger</b>
            <b>SHIFT+T: Tileset</b>
            <b>SHIFT+M: Dark Mode</b>
        </div>
        <div class="interactive-panel shortcuts">
            <button onclick="loadRom('pokeyellow')">Load Pokemon Yellow</button>
            <button onclick="loadRom('pokecrystal')">Load Pokemon Crystal</button>
            <button onclick="loadRom('tetris')">Load Tetris</button>
            <button onclick="loadRom('pocket')">Load Pocket</button>
        </div>
    </div>

    <!-- <script src="./AudioContextMonkeyPatch.js"></script> -->
    <script src="./bootrom.js"></script>
    <script src="./roms.js"></script>
    <script src="./index.bundle.js"></script>
    <script src="./index.js"></script>
</body>